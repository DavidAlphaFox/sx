\chapter{Client operations}

\section*{Accessing the cluster}
To access the cluster you need to have credentials for an existing
account. In this example we will use the default admin account created
during cluster setup.The following command sets up the admin access to
the \SX cluster "mycluster" for the client tools. Because "mycluster"
is not a DNS name, we need to point sxinit to one of the nodes of the
cluster. It will automatically discover the IP addresses of the other
nodes. Additionally, we create an alias \path{@cluster}, which later
can be used instead of \path{sx://admin@mycluster}.
\small
\begin{lstlisting}
$ sxinit -l 192.168.1.101 -A @cluster sx://admin@mycluster
Warning: self-signed certificate:

        Subject: C=GB, ST=UK, O=SX, CN=mycluster
	Issuer: C=GB, ST=UK, O=SX, CN=mycluster
	SHA1 Fingerprint: 84:EF:39:80:1E:28:9C:4A:C8:80:E6:56:57:A4:CD:64:2E:23:99:7A

Do you trust this SSL certificate? [y/N] ^\marked{y}^
Trusting self-signed certificate
Please enter the user key:
^\marked{0DPiKuNIrrVmD8IUCuw1hQxNqZfIkCY+oKwxi5zHSPn5y0SOi3IMawAA}^
\end{lstlisting}

\LARGE
\SX allows creating additional users of your choice and assigning them
appropriate privileges. In this Quick Start Guide we will only use the
default admin account, though. Please refer to \path{sxacl useradd --help}
on how to add new users to the cluster.

\section*{Creating new volumes}
Volumes are logical partitions of the \SX storage assigned to particular
groups of users and managed with the \path{sxvol} tool. Below we create
a basic volume of size 50G owned by admin and fully replicated on two nodes.
We're also making use of the \path{@cluster} alias, which stands for \path{sx://admin@mycluster}.
\small
\begin{lstlisting}
$ /opt/sx/bin/sxvol create --owner=admin --replica=2 --size=50G
  @cluster/mydata
Volume 'mydata' (replica: 2, size: 50G, max-revisions: 1) created.
\end{lstlisting}
\LARGE

\section*{Working with files}
\SX provides easy to use file tools, which resemble typical UNIX commands.
Below we show how to upload a file to the 'mydata' volume, display it,
and list files in the volume.

\small
\begin{lstlisting}
$ echo Hello World! > /tmp/hello.txt
$ sxcp /tmp/hello.txt @cluster/mydata/
$ sxcat @cluster/mydata/hello.txt
Hello World!
$ sxls @cluster/mydata/
sx://admin@mycluster/mydata/hello.txt
$ sxrm @cluster/mydata/hello.txt
Deleted 1 file(s)
\end{lstlisting}
\LARGE
Use \path{sxcp -r} to recursively upload directories to \SX. See the man pages
(eg. \path{man sxcp}) for examples and usage details.
